@model PagedList.IPagedList<WebView.WebService._base.Job>
@{
    ViewBag.Title = "List";
}

@section Styles {
    SECTION {
        padding: 8px;
        background-color: #f0f0f0;
        overflow: auto;
    }
}

<script type="text/javascript">
  var status = 0;

  function AddItem(target, text, val) {
      cs = document.getElementById(target);
      opt = document.createElement("option");
      cs.options.add(opt);
      opt.text = text;
      opt.value = val;
  }

  function GetDetailsCallBack(data) {
        
      $ = globalJquery;
      state = data.jobstate;
      status = data.jobstatus;
      projNo = data.project_no;
	  //region Fatihin - CR80 - 2018 - 29 Jan 2018
      //checkGRN = data.checkGRN;
      //checkNIS = data.checkNIS;
      //endregion

      outputHandover = data.outputHandover;

      document.getElementById("targetJob").value = data.jobid;

      var HandoverStatus = function () {
          window.location = "ViewHandover?id=" + document.getElementById("targetJob").value + "&type='All'";
      }

      var approval = function () {
          var cmsg = confirm('Are you sure you want to send for approval?');
          if (cmsg != 0) {
              if (data.handover == "MANUAL") {
                  window.location = "Handover?id=" + document.getElementById("targetJob").value;
              }
          }
      }

      var ResendApproval = function () {
          var cmsg = confirm('Are you sure you want to re-send for approval?');
          if (cmsg != 0) {
              $.ajax({
                  url: "/Job/ResentApproval",
                  type: "POST",
                  dataType: "html",
                  data: {
                      "targetJob": document.getElementById("targetJob").value,
                      "targetDesc": document.getElementById("txtDescription2").value
                  },
                  beforeSend: function () {
                      document.getElementById("loading").style.display = "block";
                  },
                  success: function (data) {
                      document.getElementById("loading").style.display = "none";
                      var res = jQuery.parseJSON(data);

                      if (res.result == "ok") {
                          alert("Successfully Sent For Approval.");
                          window.location.reload();
                      }
                      else {
                          alert(res.result);
                      }
                  }
              });
          }
      }
      var handover = function () {
          var projNo = document.getElementById('txtProjectNo').value;
          //alert(projNo);
          if (projNo == '' || projNo == '-') {
              alert('Please Match Project No to proceed with integration.');
          }
          else {
              var cmsg = confirm('Are you sure you want to Handover?');
              if (cmsg != 0) {

                  $.ajax({
                      url: "/Job/AutoApproval",
                      type: "POST",
                      dataType: "html",
                      data: {
                          "targetJob": document.getElementById("targetJob").value
                      },
                      beforeSend: function () {
                          document.getElementById("loading").style.display = "block";
                      },
                      success: function (data) {
                          document.getElementById("loading").style.display = "none";
                          var res = jQuery.parseJSON(data);

                          if (res.result == "ok") {
                              alert("Handed Over.");
                              window.location.reload();
                          }
                          else {
                              alert("Handover Started. Please comfirm the feature state already 'ASB' in G-TECH to change job state.");
                              window.location.reload();
                          }
                      }
                  });
              }
          }

      }


      var handovergranite = function () {
          var projNo = document.getElementById('txtProjectNo').value;
          var job = document.getElementById("targetJob").value;
          var Civil = job.indexOf("CIVIL");
          ///alert(projNo);
          if ((projNo == '' || projNo == '-') && (Civil < 0)) {
              alert('Please Match Project No to proceed with integration.');
          }
          else {
              var cmsg = confirm('Are you sure you want to Handover?');
              if (cmsg != 0) {
                  $.ajax({
                      url: "/Job/GraniteApproval",
                      type: "POST",
                      dataType: "html",
                      data: {
                          "targetJob": document.getElementById("targetJob").value
                      },
                      beforeSend: function () {
                          document.getElementById("loading").style.display = "block";
                      },
                      success: function (data) {
                          document.getElementById("loading").style.display = "none";
                          var res = jQuery.parseJSON(data);

                          if (res.result == "ok") {
                              alert("Handed Over.");
                              window.location.reload();
                          }
                          else {
                              alert("Handover Started");
                              window.location.reload();
                          }
                      }
                  });
              }
          }
          //          if (projNo == '' || projNo == '-') {
          //              alert('Please Match Project No to proceed with integration.');
          //          }
          //          else {
          //              var cmsg = confirm('Are you sure you want to Handover?');
          //              if (cmsg != 0) {
          //                  $.ajax({
          //                      url: "/Job/GraniteApproval",
          //                      type: "POST",
          //                      dataType: "html",
          //                      data: {
          //                          "targetJob": document.getElementById("targetJob").value
          //                      },
          //                      beforeSend: function () {
          //                          document.getElementById("loading").style.display = "block"
          //                      },
          //                      success: function (data) {
          //                          document.getElementById("loading").style.display = "none"
          //                          var res = jQuery.parseJSON(data);

          //                          if (res.result == "ok") {
          //                              alert("Handed Over.");
          //                              window.location.reload();
          //                          }
          //                          else {
          //                              alert("Handover Started");
          //                              window.location.reload();
          //                          }
          //                      }
          //                  });
          //              }
          //          }

      }


      var SendSwift = function () {
          var cmsg = confirm('Are you sure you want to submit to SWIFT?');
          if (cmsg != 0) {
              $.ajax({
                  url: "/Job/SendSwift",
                  type: "POST",
                  dataType: "html",
                  data: {
                      "targetJob": document.getElementById("targetJob").value
                  },
                  beforeSend: function () {
                  },
                  success: function (data) {
                      var res = jQuery.parseJSON(data);
                    //  alert(res.Success);
                      if (res.Success == true) {
                          alert("Integration to SWIFT started");
                          window.location.reload();
                      }
                      else {
                          alert("Fails");
                          window.location.reload();
                      }
                  }
              });
          }

      }

      var assetGems = function () {
          var cmsg = confirm('Are you sure you want to submit asset to GEMS?');
          if (cmsg != 0) {
                $.ajax({
                    url: "/Job/AssetGems",
                    type: "POST",
                    dataType: "html",
                    data: {
                        "targetJob": document.getElementById("targetJob").value
                    },
                    beforeSend: function () {
                    },
                    success: function (data) {
                        var res = jQuery.parseJSON(data);
                        alert(res.Success);
                        if (res.Success == true) {
                            alert("Successful. GEMS will create Asset No for all assets in this job.");
                            window.location.reload();
                        }
                        else {
                            alert("Fails");
                            window.location.reload();
                        }
                    }
                });
          }

        }


        var checkAssetGEMS = function () {

            $("#divCheckAssetGEMS").dialog("open");
            var JobID = document.getElementById("targetJob").value;
            SetText("txtJobNoAssetToGEMS", JobID);
            document.getElementById("targetAssetToGEMSJob").value = JobID;

            $.ajax({
                url: '@Url.Action("CheckAssetGEMS", "Job")',
                type: "POST",
                dataType: "html",
                data: {
                    "id": JobID
                },
                beforeSend: function () {
                    document.getElementById("loadingcheckAssetGEMS").style.visibility = "visible";
                },
                success: function (data) {
                    document.getElementById("loadingcheckAssetGEMS").style.visibility = "hidden";
                    var res = jQuery.parseJSON(data);

                    if (res.CheckAsset != "") {
                        var LoadCheckAssetGEMS = res.CheckAsset;
                        document.getElementById("tabCheckAssetGEMS").style.display = "block";

                        var tblC = document.getElementById("tabCheckAssetGEMS");
                        for (var i = tblC.rows.length - 1; i > 0; i--) {
                            tblC.deleteRow(i);
                        }

                        Row = LoadCheckAssetGEMS.split('[');
                        var tab = document.getElementById("tabCheckAssetGEMS");

                        for (var p = 0; p < Row.length - 1; p++) {
                            var row = tab.insertRow(p + 1);
                            row.style.background = "#e8eef4";

                            splitData = Row[p + 1].split('|');

                            for (var i = 0; i < splitData.length; i++) {
                                row.insertCell(i);
                                tab.rows[p + 1].cells[i].innerHTML = splitData[i];
                            }
                        }
                    }

                    if (res.CheckAsset.trim() == "") {
                        alert("no data to display");
                    }
                }
            });
        }

      
      var approve = function () {
          $(this).dialog("close");
      }
  
      var changeOwner = function () {
          document.getElementById("changeOwner-details").style.display = "block";
          document.getElementById("list-details").style.display = "none";
  
          button = $("#divDetails").parent().find("button:contains('Send Approval')");
          button.unbind();
          button.addClass('ui-state-disabled');
  
          button = $("#divDetails").parent().find("button:contains('Change Ownership')");
          button.unbind();
          button.addClass('ui-state-disabled');
  
          // region Mubin - CR69-2018 - 2 Jan 2018
          if ($("#btnDelete").length) {
              button = $("#divDetails").parent().find("button:contains('Delete')");
              button.unbind();
              button.addClass('ui-state-disabled');
          }
          // endRegion
  
          button = $("#divDetails").parent().find("button:contains('Save')");
          button.unbind();
          button.addClass('ui-state-disabled');
  
          // region Mubin - CR72-2018 - 2 Jan 2018
          if ($("#btnMatch").length) {
              button = $("#divDetails").parent().find("button:contains('Match Project No.')");
              button.unbind();
              button.addClass('ui-state-disabled');
          }
          if ($("#btnUnmatch").length) {
              button = $("#divDetails").parent().find("button:contains('Remove Project No.')");
              button.unbind();
              button.addClass('ui-state-disabled');
          }
          // endRegion

//          button = $("#divDetails").parent().find("button:contains('View Features')");
//          button.unbind();
//          button.addClass('ui-state-disabled');

  
          button = $("#divDetails").parent().find("button:contains('Handover')");
          button.unbind();
          button.addClass('ui-state-disabled');

          document.getElementById("DropDownList-UserRoles").options.length = 0;
          if (data.userRole == "FUNDAMENTAL" || data.userRole == "SUPERVISOR") {
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "";
              opt.value = "";
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "Fundamental";
              opt.value = "FUNDAMENTAL";
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "Detail";
              opt.value = "DETAIL";
          }
          else if (data.userRole == "DETAIL") {
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "";
              opt.value = "";
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "Detail";
              opt.value = "DETAIL";
          }
          else if (data.userRole == "STANDARD" || data.userRole == "ADVANCED") {
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "";
              opt.value = "";
                
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "Advanced";
              opt.value = "ADVANCED";
                
              var opt = document.createElement("option");
              document.getElementById("DropDownList-UserRoles").options.add(opt);
              opt.text = "Standard";
              opt.value = "STANDARD";
          }
      }

      var vwFeatures = function () {

          window.open().location.href = "ViewFeatures?scheme_name=" + document.getElementById("targetJob").value + "";
      }

      var matchproject = function () {
          document.getElementById("list-details").style.display = "none";
          document.getElementById("changeOwner-details").style.display = "none";
          document.getElementById("project-details").style.display = "block";

          button = $("#divDetails").parent().find("button:contains('Change Ownership')");
          button.unbind();
          button.addClass('ui-state-disabled');

          // region Mubin - CR69-2018 - 2 Jan 2018
          if ($("#btnDelete").length) {
              button = $("#divDetails").parent().find("button:contains('Delete')");
              button.unbind();
              button.addClass('ui-state-disabled');
          }
          // endRegion

          button = $("#divDetails").parent().find("button:contains('Save')");
          button.unbind();
          button.addClass('ui-state-disabled');

          button = $("#divDetails").parent().find("button:contains('Match Project No.')");
          button.unbind();
          button.addClass('ui-state-disabled');
          FindProjectNo();
      }
	  // region Mubin - CR72-2018 - 2 Jan 2018
      if (data.project_no == "" || data.project_no == null) {
          $('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          if ($('#btnUnmatch').length) {
              $('#divDetails').dialog('removebutton', 'Remove Project No.');
          }
      } else {
          $('#divDetails').dialog('addbutton', 'Remove Project No.', unmatchProject);
          if ($('#btnMatch').length) {
              $('#divDetails').dialog('removebutton', 'Match Project No.');
          }
      }
      // endRegion
	  
     //alert(data.project_no + data.jobstate + data.scheme_type);
      //if (data.project_no == null) {
      if (data.jobstate == 'PROPOSED' || data.jobstate == 'UN_CONSTRUCT') {
          $('#divDetails').dialog('removebutton', 'Send Approval');
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          // region Mubin - CR72-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          $('#divDetails').dialog('removebutton', 'Resend Approval');
          //$('#divDetails').dialog('removebutton', 'Handover');
          $('#divDetails').dialog('removebutton', 'Submit to NIS');
          $('#divDetails').dialog('removebutton', 'Submit to Granite');
          $('#divDetails').dialog('removebutton', 'Commission');
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          if (data.scheme_type == 'HSBB (Equip)' || data.scheme_type == 'HSBB E/Side' || data.scheme_type == 'HSBB D/Side') {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Commission');
          } else if (data.scheme_type == 'Civil') {
              $('#divDetails').dialog('addbutton', 'Commission', handover);
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
          } else {
              //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
              $('#divDetails').dialog('removebutton', 'Commission');
          }
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
           $('#divDetails').dialog('addbutton', 'Send to SWIFT', SendSwift);
      }// region Mubin - CR72-2018 - 2 Jan 2018
       else if ((data.project_no != "" || data.project_no != null) && data.jobstate == "COMPLETED" && data.handover == "MANUAL") {
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          $('#divDetails').dialog('addbutton', 'Send Approval', approval);
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          $('#divDetails').dialog('removebutton', 'Resend Approval');
          //$('#divDetails').dialog('removebutton', 'Handover');
          $('#divDetails').dialog('removebutton', 'Submit to NIS');
          $('#divDetails').dialog('removebutton', 'Submit to Granite');
          $('#divDetails').dialog('removebutton', 'Commission');
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
          $('#divDetails').dialog('addbutton', 'Send to SWIFT', SendSwift);
      }
      //HAIDAR EDIT SEMENTARA 
      //else if (data.project_no != null && data.jobstate == "COMPLETED" && data.handover == "AUTO") {
      else if (data.jobstate == "COMPLETED" && data.handover == "AUTO") {
          $('#divDetails').dialog('removebutton', 'Change Ownership');
//          $('#divDetails').dialog('removebutton', 'Send Approval');
//          $('#divDetails').dialog('removebutton', 'Resend Approval');
          //$('#divDetails').dialog('removebutton', 'Match Project No.');
          // region Mubin - CR72-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          //$('#divDetails').dialog('addbutton', 'Handover', handover);
          if (data.scheme_type == 'HSBB (Equip)' || data.scheme_type == 'HSBB E/Side' || data.scheme_type == 'HSBB D/Side') {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Commission');
          } else if (data.scheme_type == 'Civil') {
              $('#divDetails').dialog('addbutton', 'Commission', handover);
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
          } else {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
              $('#divDetails').dialog('removebutton', 'Commission');
          }
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
      }
      else if (data.jobstate == "REJECTED" && data.handover == "MANUAL") {
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          $('#divDetails').dialog('addbutton', 'Resend Approval', ResendApproval);
          $('#divDetails').dialog('removebutton', 'Send Approval');
          //$('#divDetails').dialog('removebutton', 'Match Project No.');
          // region Mubin - CR72-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          $('#divDetails').dialog('removebutton', 'Handover');
          $('#divDetails').dialog('removebutton', 'Submit to NIS');
          $('#divDetails').dialog('removebutton', 'Submit to Granite');
          $('#divDetails').dialog('removebutton', 'Commission');
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
      }
      else if (data.jobstate == "APPROVED") {
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          $('#divDetails').dialog('removebutton', 'Send Approval');
          $('#divDetails').dialog('removebutton', 'Resend Approval');
          // region Mubin - CR72-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          if (data.scheme_type == 'HSBB (Equip)' || data.scheme_type == 'HSBB E/Side' || data.scheme_type == 'HSBB D/Side') {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
          } else if (data.scheme_type == 'Civil') {
              $('#divDetails').dialog('addbutton', 'Commission', handover);
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
          }
          else {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
          }
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
      }
      else if (data.jobstate == "COMMISSIONED") {
          $('#divDetails').dialog('removebutton', 'Send Approval');
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          $('#divDetails').dialog('removebutton', 'Resend Approval');
          // region Mubin - CR72-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          $('#divDetails').dialog('removebutton', 'Handover');
          $('#divDetails').dialog('removebutton', 'Submit to NIS');
          $('#divDetails').dialog('removebutton', 'Submit to Granite');
          $('#divDetails').dialog('removebutton', 'Commission');
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          // region Mubin - CR72-2018 - 2 Jan 2018
          if (data.project_no != null || data.project_no != "") {
          // endRegion
              $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
          } else {
              $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          }
          if (data.scheme_type == 'HSBB (Equip)' || data.scheme_type == 'HSBB E/Side' || data.scheme_type == 'HSBB D/Side') {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Commission');
          } else if (data.scheme_type == 'Civil') {
              $('#divDetails').dialog('addbutton', 'Commission', handover);
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
          } else {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
              $('#divDetails').dialog('removebutton', 'Commission');
          }
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
      }// region Mubin - CR72-2018 - 2 Jan 2018
      else if ((data.project_no != null || data.project_no != "") && (data.jobstate != "COMPLETED" || data.jobstate != "COMMISSIONED")) {
          $('#divDetails').dialog('removebutton', 'Send Approval');
          $('#divDetails').dialog('removebutton', 'Change Ownership');
          //$('#divDetails').dialog('addbutton', 'Match Project No.', matchproject);
          // endRegion
          $('#divDetails').dialog('removebutton', 'Resend Approval');
          //$('#divDetails').dialog('removebutton', 'Match Project No.');
          $('#divDetails').dialog('removebutton', 'Handover');
//          $('#divDetails').dialog('removebutton', 'Submit to NIS');
//          $('#divDetails').dialog('removebutton', 'Submit to Granite');
          $('#divDetails').dialog('removebutton', 'Commission');
          $('#divDetails').dialog('removebutton', 'Asset to GEMS');
          if (data.scheme_type == 'HSBB (Equip)' || data.scheme_type == 'HSBB E/Side' || data.scheme_type == 'HSBB D/Side') {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Commission');
          } else if (data.scheme_type == 'Civil') {
              $('#divDetails').dialog('addbutton', 'Commission', handover);
              $('#divDetails').dialog('removebutton', 'Submit to NIS');
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
          } else {
              // region Mubin - CR14-20180330
              //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
              // endRegion
              $('#divDetails').dialog('removebutton', 'Submit to Granite');
              $('#divDetails').dialog('removebutton', 'Commission');
          }
          $('#divDetails').dialog('addbutton', 'Asset to GEMS', assetGems);
      }

      $('#divDetails').dialog('addbutton', 'View Features', vwFeatures);

      $('#divDetails').dialog('addbutton', 'Check Asset (GEMS)', checkAssetGEMS);
      $('#divDetails').dialog('addbutton', 'View Handover Status.', HandoverStatus);
//      if (outputHandover != 0) {
//          $('#divDetails').dialog('addbutton', 'View Handover Status.', HandoverStatus);
//      } else {
//          $('#divDetails').dialog('removebutton', 'View Handover Status.');
//      }
      var files = data.files_list.files.split('|');
      //var files = data.split('|');
        
      if (files.length > 1) {
          document.getElementById("FilesBlock").style.display = "block";
          var tbl = document.getElementById('tblFiles');
          var lastRow = tbl.rows.length;

          if (lastRow > 1) {
              for (i = 1; i < lastRow; i++) {
                  tbl.deleteRow(1);
              }
          }

          lastRow = tbl.rows.length;
          for (i = 0; i < files.length - 1; i++) {
              // adding files to list

              var iteration = lastRow;
              var row = tbl.insertRow(lastRow);

              var cellLeft = row.insertCell(0);
              var textNode = document.createElement("span");
              textNode.innerHTML = files[i];
              cellLeft.appendChild(textNode);

              var celRight = row.insertCell(1);
              textNode = document.createElement("span");
              textNode.innerHTML = ""; 
              celRight.appendChild(textNode);
          }
      }
      else {
          document.getElementById("FilesBlock").style.display = "none";

          var tbl = document.getElementById('tblFiles');
          var lastRow = tbl.rows.length;

          if (lastRow > 1) {
              for (i = 1; i < lastRow; i++) {
                  tbl.deleteRow(1);
              }
          }
      }

      SetElement("txtName", data.name);
      SetElement("txtDescription", data.description);
      SetElement("txtDescription2", data.description2);

      // Haidar comment sementara
//      if (data.jobstate == "PROPOSED" && data.grpId != 12 && data.checkfeature != 0) {
//          alert("Please make sure feature state must in \n 'PAD' or 'MOD' or 'PDR' or 'PPF' \n to change job state to un_construct");      
//          document.getElementById("txtJobState").disabled = false;
//          document.getElementById("txtJobState").options[0].value = "PROPOSED";
//          document.getElementById("txtJobState").options[0].text = "PROPOSED";
//          document.getElementById("txtJobState").options[1].value = "";
//          document.getElementById("txtJobState").options[1].text = "";
//          document.getElementById("txtJobState").options[2].value = "";
//          document.getElementById("txtJobState").options[2].text = "";
//      }
//      else if (data.jobstate == "PROPOSED" && data.grpId != 12 && data.checkfeature == 0) {
      if (data.jobstate == "PROPOSED" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = false;
          document.getElementById("txtJobState").value = "PROPOSED";
          document.getElementById("txtJobState").options[0].value = "PROPOSED";
          document.getElementById("txtJobState").options[0].text = "PROPOSED";
          document.getElementById("txtJobState").options[1].value = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[1].text = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[2].value = "";
          document.getElementById("txtJobState").options[2].text = "";
      }
      else if (data.jobstate == "AMENDMENT" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = false;
          document.getElementById("txtJobState").options[0].value = "AMENDMENT";
          document.getElementById("txtJobState").options[0].text = "AMENDMENT";
          document.getElementById("txtJobState").options[1].value = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[1].text = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[2].value = "";
          document.getElementById("txtJobState").options[2].text = "";
      }// region Mubin - CR72-2018 - 2 Jan 2018
      else if (data.jobstate == "UN_CONSTRUCT" && (data.project_no != null || data.project_no != "") && data.grpId != 12) {
      // endRegion
          document.getElementById("txtJobState").options[0].value = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[0].text = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[1].value = "AMENDMENT";
          document.getElementById("txtJobState").options[1].text = "AMENDMENT";
          document.getElementById("txtJobState").options[2].value = "COMPLETED";
          document.getElementById("txtJobState").options[2].text = "COMPLETED";
      }// region Mubin - CR72-2018 - 2 Jan 2018
      else if (data.jobstate == "UN_CONSTRUCT" && (data.project_no == null || data.project_no == "") && data.grpId != 12) { // haidar edit sementara
      // endRegion
          document.getElementById("txtJobState").disabled = false;
          document.getElementById("txtJobState").options[0].value = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[0].text = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[1].value = "COMPLETED";
          document.getElementById("txtJobState").options[1].text = "COMPLETED";
      }
      else if (data.jobstate == "COMPLETED" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = true;
          document.getElementById("txtJobState").options[0].value = "COMPLETED";
          document.getElementById("txtJobState").options[0].text = "COMPLETED";
      }
      else if (data.jobstate == "APPROVED" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = true;
          document.getElementById("txtJobState").options[0].value = "APPROVED";
          document.getElementById("txtJobState").options[0].text = "APPROVED";
      }
      else if (data.jobstate == "REJECTED" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = true;
          document.getElementById("txtJobState").options[0].value = "REJECTED";
          document.getElementById("txtJobState").options[0].text = "REJECTED";
      }
      else if (data.jobstate == "COMMISSIONED" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = true;
          if (data.scheme_type == 'Civil') {
              document.getElementById("txtJobState").options[0].value = "COMMISSIONED";
              document.getElementById("txtJobState").options[0].text = "COMMISSIONED";
          } else {
              document.getElementById("txtJobState").options[0].value = "COMMISSIONED";
              document.getElementById("txtJobState").options[0].text = "SUBMITTED";
          }
      }
      else if (data.jobstate == "PENDING APP" && data.grpId != 12) {
          document.getElementById("txtJobState").disabled = true;
          document.getElementById("txtJobState").options[0].value = "PENDING APP";
          document.getElementById("txtJobState").options[0].text = "PENDING APP";
      } else if (data.grpId == 12) {
          document.getElementById("txtJobState").disabled = false;
          document.getElementById("txtJobState").options[0].value = data.jobstate;
          document.getElementById("txtJobState").options[0].text = data.jobstate;
          document.getElementById("txtJobState").options[1].value = "PROPOSED";
          document.getElementById("txtJobState").options[1].text = "PROPOSED";
          document.getElementById("txtJobState").options[2].value = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[2].text = "UN_CONSTRUCT";
          document.getElementById("txtJobState").options[3].value = "COMPLETED";
          document.getElementById("txtJobState").options[3].text = "COMPLETED";
      }

      //if job state equal to HSBB
      // region Mubin - CR14-20180330
      document.getElementById("btnCheckJobGRN").style.display = "block";
      document.getElementById("btnCheckJobNIS").style.display = "block";
      if (data.scheme_type.toUpperCase() == 'HSBB D/SIDE' || data.scheme_type.toUpperCase() == 'HSBB E/SIDE' || data.scheme_type.toUpperCase() == 'HSBB (EQUIP)') {
          document.getElementById("btnCheckJobGRN").style.display = "block";
          document.getElementById("btnCheckJobNIS").style.display = "block";
          //$('#divDetails').dialog('addbutton', 'Submit to NIS', handover);
          //$('#divDetails').dialog('addbutton', 'Submit to Granite', handovergranite);
          // endRegion
          
      }
	  
	  //region Fatihin - CR80 - 2018 - 29 Jan 2018
        //if (checkGRN != 0) {
          //  $("#divDetails").parent().find("button:contains('Submit to Granite')").unbind().addClass("ui-state-disabled");
        //}

        //if (checkNIS != 0) {
          //  $("#divDetails").parent().find("button:contains('Submit to NIS')").unbind().addClass("ui-state-disabled");
        //}
        //endregion
           
      SetElement("jobIdVal", data.jobid);
      SetText("txtJobNo", data.jobid);
      SetElement("txtSchemeName", data.scheme_name);
      SetElement("txtOwner", data.user);
      SetElement("txtStatus", data.jobstatus);
      SetElement("txtEXC", data.excabb);
      SetElement("txtSchemeType", data.scheme_type);
      SetElement("txtStartDate", data.StartDate);
      SetElement("txtEndDate", data.EndDate);

      // region Mubin - CR72-2018 - 2 Jan 2018
      if (data.project_no == null || data.project_no == "")
      // endRegion
          SetElement("txtProjectNo", "-");
      else
          SetElement("txtProjectNo", data.project_no);

      document.getElementById("btnClose").disabled = false;
      document.getElementById("txtName").disabled = true;
      document.getElementById("txtOwner").disabled = true;
      document.getElementById("txtProjectNo").disabled = true;
      document.getElementById("txtJobNo").disabled = true;
      document.getElementById("txtSchemeName").disabled = true;
      document.getElementById("txtStatus").disabled = true;
      document.getElementById("txtEXC").disabled = true;
      document.getElementById("txtSchemeType").disabled = true;
      SetElement("txtStartDate", data.StartDate);
      SetElement("txtEndDate", data.EndDate);
  }

  function getDetailsCheckJob(data,typetable) {
      //typetable

      var tblC = document.getElementById(typetable);
      for (var i = tblC.rows.length - 1; i > 0; i--) {
          tblC.deleteRow(i);
      }

      Row = data.split('[');
      var tab = document.getElementById(typetable);

      for (var p = 0; p < Row.length - 1; p++) {
          var row = tab.insertRow(p + 1);
          row.style.background = "#e8eef4";

          splitData = Row[p + 1].split('|');

          for (var i = 0; i < splitData.length; i++) {
              row.insertCell(i);
              tab.rows[p + 1].cells[i].innerHTML = splitData[i];
          }
          // alert("aaaaaaa" + i + "  " + p + "   " + Row.length);
      }
  }

  // region Mubin CR59/CR60 29082018
  function getDetailsGrnQnd(data, typetable) {

      var tblC = document.getElementById(typetable);
      for (var i = tblC.rows.length - 1; i > 0; i--) {
          tblC.deleteRow(i);
      }

      Row = data.split('[');
      var tab = document.getElementById(typetable);

      for (var p = 0; p < Row.length - 1; p++) {
          var row = tab.insertRow(p + 1);
          row.style.background = "#e8eef4";
          row.style.whiteSpace = "nowrap";

          splitData = Row[p + 1].split('|');

          for (var i = 0; i < splitData.length; i++) {
              row.insertCell(i);
              tab.rows[p + 1].cells[i].innerHTML = splitData[i];
          }
      }
  }
  // endregion

  function SaveUpdateCallBack(data) {
      alert("msg");
      document.getElementById("txtName").readOnly = true;
      document.getElementById("txtDescription").readOnly = true;
      //document.getElementById("txtJobState").readOnly = true;
      document.getElementById("btnSave").disabled = true;
  
      if (data.Success == true) {
          alert("Successfully Updated.");
          document.getElementById("divDetails").style.display = "none";
          window.location.reload();
      }
  }
  
  function searchList() {
    var jobExc = document.getElementById("jobExc").value;
    var jobScheme = document.getElementById("jobScheme").value;
    var jobYear2 = document.getElementById("jobYear").value;
    var jobState2 = document.getElementById("jobState").value;
    if (jobYear2 == "Select") {
        var jobYear = 0;
    }
    else {
        var jobYear = jobYear2;
    }
    window.location = "List?searchKey=" + document.getElementById("searchKey").value + "&jobExc=" + jobExc + "&jobScheme=" + jobScheme + "&jobYear=" + jobYear + "&jobState=" + jobState2  ;
  }
    
  function FindProjectNo() {
      pNo = document.getElementById("projectNo").value.length;
      //if (pNo > 0) {
          $.ajax({
              url: "/Job/FindProjectNo",
              type: "POST",
              dataType: "html",
              data: {
                  "projectNo": document.getElementById("projectNo").value,
                  "exchange": document.getElementById("txtEXC").value
              },
              beforeSend: function () {
                  document.getElementById("divLoadingProj").style.visibility = "visible";
              },
              success: function (data) {
                  document.getElementById("divLoadingProj").style.visibility = "hidden";
                  var tblC = document.getElementById('projectTable');
                  for (var i = tblC.rows.length - 1; i > 0; i--) {
                      tblC.deleteRow(i);
                  }
                  var res = jQuery.parseJSON(data);
                  document.getElementById('notFoundDiv').style.display = "none";

                  if (res.jenisCarian == "Cari2") {
                      for (ii = 0; ii < document.getElementById("NoOfRow").value; ii++) {
                          var tbl = document.getElementById('projectTable');
                          var lastRow = tbl.rows.length;
                          var iteration = lastRow;
                          var row = tbl.insertRow(lastRow);

                          row.insertCell(0);
                          row.insertCell(1);
                          row.insertCell(2);
                          row.insertCell(3);
                          row.insertCell(4);
                          row.insertCell(5);
                          row.insertCell(6);
                          row.insertCell(7);

                          var empty = "";
                          tbl.rows[ii + 1].cells[0].innerHTML = empty;
                          tbl.rows[ii + 1].cells[1].innerHTML = empty;
                          tbl.rows[ii + 1].cells[2].innerHTML = empty;
                          tbl.rows[ii + 1].cells[3].innerHTML = empty;
                          tbl.rows[ii + 1].cells[4].innerHTML = empty;
                          tbl.rows[ii + 1].cells[5].innerHTML = empty;
                          tbl.rows[ii + 1].cells[6].innerHTML = empty;
                          tbl.rows[ii + 1].cells[7].innerHTML = empty;
                           
                      }
                       
                      document.getElementById('projectTable').style.display = "none";
                      document.getElementById('projectTable').style.display = "block";
                      big = res.record.split('!');
                      countBtnEdit = 0;
                      for (ii = 0; ii < big.length - 1; ii++) {
                          d = big[ii].split('|');
                          countBtnEdit++;

                          var tbl = document.getElementById('projectTable');
                          var lastRow = tbl.rows.length;
                          var iteration = lastRow;
                          var row = tbl.insertRow(lastRow);

                          if (d[0] != "") {
                              row.insertCell(0);
                              row.insertCell(1);
                              row.insertCell(2);
                              row.insertCell(3);
                              row.insertCell(4);
                              row.insertCell(5);
                              row.insertCell(6);
                              row.insertCell(7);
                            
                              tbl.rows[ii + 1].cells[0].innerHTML = d[0];
                              tbl.rows[ii + 1].cells[1].innerHTML = d[1];
                              tbl.rows[ii + 1].cells[2].innerHTML = d[2];
                              tbl.rows[ii + 1].cells[3].innerHTML = d[3];
                              tbl.rows[ii + 1].cells[4].innerHTML = d[4];
                              tbl.rows[ii + 1].cells[5].innerHTML = d[5];
                              tbl.rows[ii + 1].cells[6].innerHTML = d[6];
                              tbl.rows[ii + 1].cells[7].innerHTML = "<input type=\"button\" value=\"choose\" onclick=\"choose('" + d[0] + "', '" + d[2] + "')\"  style=\"width:80px\" />";
                          }
                      }
                      SetElement("NoOfRow", countBtnEdit);
                  }
              }
          });
  }

  jQuery(document).ready(function ($) {

      var saveOwner = function () {
          var strSelected = "";
          $("#DropDownList-UserList option:selected").each(function () {
              strSelected += $(this)[0].value;
          });
          var bValid = true;
          if (bValid) {
              $(this).dialog("close");
          }
          $.ajax({

              url: "/Job/ChangeOwner",
              type: "POST",
              dataType: "html",
              data: {
                  "jobIdVal": document.getElementById("jobIdVal").value,
                  "username": strSelected
              },
              beforeSend: function () {
              },
              success: function (data) {
                  var res = jQuery.parseJSON(data);

                  if (res.Success == true) {
                      alert("Owner Changed!");
                      window.location.reload();
                  }
                  else {
                      alert("Process Failed.");
                  }
              }
          });
      }

      var save = function () {
          //alert("save");
          var bValid = true;
          if (document.getElementById("txtJobState").value == "") {
              alert("Please Check Job State status");
          }
          else {

              //              if (bValid) {
              //                  $(this).dialog("close");
              //              }
              $.ajax({

                  url: "/Job/UpdateData",
                  type: "POST",
                  dataType: "html",
                  data: {

                      "jobIdVal": document.getElementById("jobIdVal").value,
                      "txtDescription": document.getElementById("txtDescription").value,
                      "txtDescription2": document.getElementById("txtDescription2").value,
                      "txtJobState": document.getElementById("txtJobState").value,
                      "txtStartDate": document.getElementById("txtStartDate").value,
                      "txtEndDate": document.getElementById("txtEndDate").value
                  },
                  beforeSend: function () {
                      document.getElementById("divLoading").style.visibility = "visible";
                      alert("Please wait until update response.");
                  },
                  success: function (data) {
                      var res = jQuery.parseJSON(data);
                      document.getElementById("divLoading").style.visibility = "hidden";

                      if (res.Success == true) {
                          alert("Successfully Updated.");
                          window.location.reload();
                      }
                      else {
                          alert("Failed. Please make sure feature state must in \n 'PAD' or 'MOD' or 'PDR' or 'PPF' \n to change job state to un_construct");
                          //alert("Failed. Please sent BOQ to Gems to continue.");
                      }
                  }
              });
          }
      }

      var del = function () {
          var bValid = true;

          if (bValid) {
              $(this).dialog("close");
          }

          $("#dialog-confirm").css({ visibility: "visible", display: "block" });

          $("#dialog-confirm").dialog({
              resizable: false,
              height: 200,
              modal: true,
              buttons: {
                  "Delete": function () {
                      $(this).dialog("close");

                      $.ajax({
                          url: "/Job/DeleteData",
                          type: "POST",
                          dataType: "html",
                          data: {
                              "targetJob": document.getElementById("targetJob").value,
                              "random": Math.random()
                          },
                          beforeSend: function () {
                          },
                          success: function (data) {
                              var res = jQuery.parseJSON(data);

                              if (res.Success == true) {
                                  alert("Deleted");
                                  window.location.reload();
                              }
                              else {
                                  alert("Delete failed.");
                              }
                          }
                      });
                  },
                  Cancel: function () {
                      $(this).dialog("close");
                  }
              }
          });
      }

      $("#DropDownList-UserRoles").change(function () {
          var strSelected = "";
          $("#DropDownList-UserRoles option:selected").each(function () {
              strSelected += $(this)[0].value;
          });

          var bValid = true;
          if (bValid) {
              $(this).dialog("close");
          }
          $.ajax({

              url: "/Job/UserList",
              type: "POST",
              dataType: "html",
              data: {

                  "userRole": strSelected
              },
              beforeSend: function () {
              },
              success: function (data) {

                  var res = jQuery.parseJSON(data);

                  $('#divDetails').dialog('addbutton', 'Save Owner', saveOwner);

                  $('#divDetails').dialog('removebutton', 'Save');
                  $('#divDetails').dialog('removebutton', 'Send Approval');
                  // region Mubin - CR69-2018 - 2 Jan 2018
                  if ($('#btnDelete').length) {
                      $('#divDetails').dialog('removebutton', 'Delete');
                  } // endRegion
                  // region Mubin - CR72-2018 - 2 Jan 2018
                  if ($('#btnMatch').length) {
                      $('#divDetails').dialog('removebutton', 'Match Project No.');
                  }
                  if ($('#btnUnmatch').length) {
                      $('#divDetails').dialog('removebutton', 'Remove Project No.');
                  }
                  // endRegion
                  $('#divDetails').dialog('removebutton', 'Change Ownership');
                  $('#divDetails').dialog('removebutton', 'Handover');

                  document.getElementById('DDL-UL').style.display = "block";
                  document.getElementById('DropDownList-UserList').style.display = "block";
                  document.getElementById("DropDownList-UserList").options.length = 0;
                  big = res.record.split('!');
                  for (i = 0; i < big.length - 1; i++) {
                      if (big[i] != res.user) {
                          // Create an Option object        
                          var opt = document.createElement("option");
                          // Add an Option object to Drop Down/List Box
                          document.getElementById("DropDownList-UserList").options.add(opt);
                          // Assign text and value to Option object
                          opt.text = big[i];
                          opt.value = big[i];
                      }
                  }
              }
          });
      });

      var close = function () {
          $(this).dialog("close");
          document.getElementById("list-details").style.display = "block";
          document.getElementById("project-details").style.display = "none";
          document.getElementById("changeOwner-details").style.display = "none";

          $('#divDetails').dialog('removebutton', 'Save Owner', saveOwner);

          $('#divDetails').dialog('addbutton', 'Save', save);
          // region Mubin - CR69-2018 - 2 Jan 2018
          //$('#divDetails').dialog('addbutton', 'Delete', del);
          // endRegion
      }

      $("#divDetails").dialog({
          autoOpen: false,
          height: 550,
          width: 800,
          modal: true,
          buttons: {
          },
          close: function () {
              //allFields.val("").removeClass("ui-state-error");
          }
      });

      $("#divCheckJob").dialog({
          autoOpen: false,
          height: 550,
          width: 1000,
          modal: true,
          buttons: {
          },
          close: function () {
              //allFields.val("").removeClass("ui-state-error");
          }
      });

      //region Mubin CR59/CR60 29082018
      $("#divGrnQnd").dialog({
          autoOpen: false,
          height: 550,
          width: 1000,
          modal: true,
          buttons: {
          },
          close: function () {
              document.getElementById("grnQndFdcTable").style.display = "none";
              document.getElementById("grnQndMsanTable").style.display = "none";
              document.getElementById("grnQndOdpTable").style.display = "none";
              document.getElementById("grnQndOltTable").style.display = "none";
              document.getElementById("noDataQnd").style.display = "none";
          }
      });
      // endregion

      $("#divCheckAssetGEMS").dialog({
          autoOpen: false,
          height: 550,
          width: 1000,
          modal: true,
          buttons: {
          },
          close: function () {
              //allFields.val("").removeClass("ui-state-error");
          }
      });

      globalJquery('#divDetails').dialog('removebutton', 'Save Owner');
      globalJquery('#divDetails').dialog('addbutton', 'Save', save);
      // region Mubin - CR69-2018 - 2 Jan 2018
      //globalJquery('#divDetails').dialog('addbutton', 'Delete', del);
      // endRegion
      globalJquery('#divDetails').dialog('addbutton', 'Close', close);


      $("#rounded-corner tbody tr").bind("click", function () {
          var t = $(this).find("#gid").text();

          $("#divDetails").dialog("open");
          $.ajax({
              url: '@Url.Action("GetDetails", "Job")',
              type: "POST",
              dataType: "html",
              data: {
                  "id": t,
                  "random": Math.random()
              },
              beforeSend: function () {
                  document.getElementById("divLoading").style.visibility = "visible";
              },
              success: function (data) {
                  var res = jQuery.parseJSON(data);

                  document.getElementById("divLoading").style.visibility = "hidden";
                  GetDetailsCallBack(res);

                  //document.getElementById("projectNo").value = "*";
                  //FindProjectNo();
              }
          });
      });

      $(function () {

          document.getElementById("loading").style.display = "none";

          $('#btnClose').click(function () {
              document.getElementById("fade").style.display = "none";

              document.getElementById("divDetails").style.display = "none";
          });

          $('#btnSearch').click(function () {
              searchList();
          });

          //-------------------------------press enter in search
          $('#searchKey').bind('keypress', function (e) {
              if (e.keyCode == 13) {
                  searchList();
              }
          });

          $('#jobExc').bind('keypress', function (e) {
              if (e.keyCode == 13) {
                  searchList();
              }
          });

          $('#jobScheme').bind('keypress', function (e) {
              if (e.keyCode == 13) {
                  searchList();
              }
          });

          $('#jobYear').bind('keypress', function (e) {
              if (e.keyCode == 13) {
                  searchList();
              }
          });
          //------------------------------------------------------

          $('#btnDelete').click(function () {
              alert('test');

          });

          $('#btnFind').click(function () {
              FindProjectNo();
          });

          $('#projectNo').change(function () {
              FindProjectNo();
          });

          $('#btnMatch').click(function () {
              document.getElementById("list-details").style.display = "none";
              document.getElementById("project-details").style.display = "block";
              //FindProjectNo();
          });

          // region Mubin - CR72-2018 - 2 Jan 2018
          $('#btnUnmatch').click(function () {
              unmatchProject();
          });
          // endRegion

          $('#btnManageFile').click(function () {
              var job = document.getElementById("targetJob").value;
              window.open("FileList/" + job);
          });

          $('#btnLaunch').click(function () {
              var t = document.getElementById("targetJob").value;
              //alert("Hantar");
              $.ajax({
                  url: '@Url.Action("OSPLaunchGTech", "Job")',
                  type: "POST",
                  dataType: "html",
                  data: {
                      "id": t,
                      "random": Math.random()
                  },
                  beforeSend: function () {
                  },
                  success: function (data) {
                      var res = jQuery.parseJSON(data);
                      document.getElementById("targetGTECH").value = res.jobID;
                      window.open("gtech:username=" + res.username + "|password=" + res.password + "|Config=" + res.config + "|JobID=" + res.jobID + "|FID=" + res.FIDToZoom + "");
                  }
              });

          });

          $('#btnLink').click(function () {
              var t = document.getElementById("targetJob").value;
              // var y = document.getElementById("targetGTECH").value;

              $.ajax({
                  url: '@Url.Action("IOSPLink", "Job")',
                  type: "POST",
                  dataType: "html",
                  data: {
                      "tjOb": t,
                      //   "tGTECH": y,
                      "random": Math.random()
                  },
                  beforeSend: function () {
                  },
                  success: function (data) {
                      var res = jQuery.parseJSON(data);
                      var URL = "10.41.61.177:8080";
                      //                      document.getElementById("targetGTECH").value = res.jobID;
                      window.open("http://" + URL + "/nrm/FacilitiesDesigner/project." + res.ID);
                  }
              });
          });

          // region Mubin - CR14-20180330
          $('#btnCheckJobGRN').click(function () {
              var projNo = document.getElementById("txtProjectNo").value;
              var job = document.getElementById("targetJob").value;
              var Civil = job.indexOf("CIVIL");
              if ((projNo == "-") && (Civil < 0)) {
                  alert('Please Match Project No to proceed with integration.');
              }
              else {
                  var integ = "grn";
                  $.ajax({
                      url: '@Url.Action("CheckJobProcess","Job")',
                      type: "POST",
                      dataType: "html",
                      data: {
                          "integ": integ,
                          "job": document.getElementById("targetJob").value
                      },
                      beforeSend: function () {
                          document.getElementById("divLoading").style.visibility = "visible";
                      },
                      success: function (data) {
                          var res = jQuery.parseJSON(data);
                          document.getElementById("divLoading").style.visibility = "hidden";
                          //Fatihin 16052018
                          window.location = "CheckJobGRN?job=" + document.getElementById("targetJob").value + "&hasRelatedFno=" + res.hasRelatedFno + "&JOBTYPE=OSP";
                      }

                  });
              }
          });
          $('#btnCheckJobNIS').click(function () {
              var projNo = document.getElementById("txtProjectNo").value;
              var job = document.getElementById("targetJob").value;
              var Civil = job.indexOf("CIVIL");
              if ((projNo == "-") && (Civil < 0)) {
                  alert('Please Match Project No to proceed with integration.');
              }
              else {
                  var integ = "nis";
                  $.ajax({
                      url: '@Url.Action("CheckJobProcess","Job")',
                      type: "POST",
                      dataType: "html",
                      data: {
                          "integ": integ,
                          "job": document.getElementById("targetJob").value
                      },
                      beforeSend: function () {
                          document.getElementById("divLoading").style.visibility = "visible";
                      },
                      success: function (data) {
                          var res = jQuery.parseJSON(data);
                          document.getElementById("divLoading").style.visibility = "hidden";
                          //fatihin
                          window.location = "CheckJobNIS?job=" + document.getElementById("targetJob").value + "&hasRelatedFno=" + res.hasRelatedFno + "&type=OSP";
                      }
                  });
              }
          });
          //Marfu'ah 090519 
          //function for clear button 
          $('#btnClear').click(function () {
              document.getElementById("searchKey").value = "";
              document.getElementById("jobExc").disabled = false;
              document.getElementById("jobState").disabled = false;
              document.getElementById("jobYear").disabled = false;
              document.getElementById("jobScheme").disabled = false;
              document.getElementById("jobExc").selectedIndex = 0;
              document.getElementById("jobState").selectedIndex = 0;
              document.getElementById("jobYear").selectedIndex = 0;
              document.getElementById("jobScheme").selectedIndex = 0;
              document.getElementById("jobExc").selectedIndex = 0;
              searchList();
          });
          //Marfu'ah 090519 CR

          /*$('#btnCheckJob').click(function () {

          $("#divCheckJob").dialog("open");

          var t = document.getElementById("targetJob").value;
          $.ajax({
          url: '@@Url.Action("CheckJob", "Job")',
          type: "POST",
          dataType: "html",
          data: {
          "id": t,
          "random": Math.random()
          },
          beforeSend: function () {
          document.getElementById("loadingscheckJob").style.visibility = "visible";
          },
          success: function (data) {
          document.getElementById("loadingscheckJob").style.visibility = "hidden";
          var res = jQuery.parseJSON(data);

          document.getElementById("Nodata").style.display = "none";
          if (res.Lsite != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCSite").style.display = "block";
          document.getElementById("tabCSite1").style.display = "block";
          typetab = "tabCSite1";
          var LoadSite = res.Lsite;
          //alert(res.Lequip);
          getDetailsCheckJob(LoadSite, typetab);

          }

          if (res.LCreateNE != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCreateNe").style.display = "block";
          document.getElementById("tabCreateNe1").style.display = "block";
          typetab = "tabCreateNe1";
          var CreateNE = res.LCreateNE;
          //alert(res.Lequip);
          getDetailsCheckJob(CreateNE, typetab);

          }

          if (res.LCreateCard != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCreateCard").style.display = "block";
          document.getElementById("tabCreateCard1").style.display = "block";
          typetab = "tabCreateCard1";
          var CreateCard = res.LCreateCard;
          //alert(res.Lequip);
          getDetailsCheckJob(CreateCard, typetab);

          }

          if (res.LCreateFC != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCreateFC").style.display = "block";
          document.getElementById("tabCreateFC1").style.display = "block";
          typetab = "tabCreateFC1";
          var CreateFC = res.LCreateFC;
          //alert(res.Lequip);
          getDetailsCheckJob(CreateFC, typetab);

          }

          if (res.Lequip != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCEquip").style.display = "block";
          document.getElementById("tabCEquip1").style.display = "block";
          typetab = "tabCEquip1";
          var loadEquip = res.Lequip;
          //alert(loadEquip);
          getDetailsCheckJob(loadEquip, typetab);
          }

          if (res.Lboundry != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCSBoundary").style.display = "block";
          document.getElementById("tabCSBoundary1").style.display = "block";
          typetab = "tabCSBoundary1";
          var loadSBoundry = res.Lboundry;
          //alert(loadSBoundry);
          getDetailsCheckJob(loadSBoundry, typetab);
          }

          if (res.path.trim() != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCPath").style.display = "block";
          document.getElementById("tabCPath1").style.display = "block";
          typetab = "tabCPath1";
          var loadPath = res.path;
          //alert(loadSBoundry);
          getDetailsCheckJob(loadPath, typetab);
          }

          if (res.pConsumer != "") {
          document.getElementById("uiCheckJob").style.display = "block";
          document.getElementById("tabCPathConsumer").style.display = "block";
          document.getElementById("tabCPathConsumer1").style.display = "block";
          typetab = "tabCPathConsumer1";
          var dataJob = res.pConsumer;
          //alert(dataJob);

          if (dataJob.length > 0) {
          //document.getElementById('rounded-corner').style.display = "block";
          for (ii = 0; ii < dataJob.length; ii++) {

          d = dataJob[ii].split('|');
          var tbl = document.getElementById('tabCPathConsumer1');
          var lastRow = tbl.rows.length;
          var iteration = lastRow;
          var row = tbl.insertRow(lastRow);

          row.insertCell(0);
          row.insertCell(1);
          row.insertCell(2);
          row.insertCell(3);
          row.insertCell(4);
          row.insertCell(5);
          row.insertCell(6);
          row.insertCell(7);
          row.insertCell(8);
          row.insertCell(9);
          row.insertCell(10);
          row.insertCell(11);

          tbl.rows[ii + 1].cells[0].innerHTML = d[0];

          tbl.rows[ii + 1].cells[1].innerHTML = d[1];

          tbl.rows[ii + 1].cells[2].innerHTML = d[2];

          tbl.rows[ii + 1].cells[3].innerHTML = d[3];

          tbl.rows[ii + 1].cells[4].innerHTML = d[4];

          tbl.rows[ii + 1].cells[5].innerHTML = d[5];

          tbl.rows[ii + 1].cells[6].innerHTML = d[6];

          tbl.rows[ii + 1].cells[7].innerHTML = d[7];

          tbl.rows[ii + 1].cells[8].innerHTML = d[8];

          tbl.rows[ii + 1].cells[9].innerHTML = d[9];

          tbl.rows[ii + 1].cells[10].innerHTML = d[10];

          tbl.rows[ii + 1].cells[11].innerHTML = d[11];
          }
          }
          }

          if (res.Lboundry.trim() == "" && res.Lequip.trim() == "" && res.Lsite.trim() == "" && res.pConsumer.trim() == "" && res.path.trim() == "") {
          //document.getElementById("Nodata").style.display = "block";
          alert("No data to display");
          }
          //   document.getElementById("btnCloses").disabled = false;
          }
          });
          });*/

          $("#btnCheckJobGRN").button();
          $("#btnCheckJobNIS").button();
          // endRegion
          $("#btnLink").button();
          $("#btnNewJob").button();
          $("#btnSearch").button();
          // region Mubin CR59/CR60 28082018
          $("#btnGrnQnd").button();
          $("#btnSearchQnd").button();
          $("#btnClear").button();
          // endregion
          $("#btnFind").button();
          $("#btnManageFile").button();
          $("#btnLaunch").button();
          $("#btnViewFeatures").button();

          // region Mubin CR59/CR60 29082018
          $('#btnGrnQnd').click(function () {
              $("#divGrnQnd").dialog("open");
          });
          $('#ptt').change(function () {
              $('#btnSearchQnd').prop("disabled", true);
              // alert("A");
              $.ajax({
                  url: '@Url.Action("updatePttQND", "Job")',
                  type: "POST",
                  dataType: "html",
                  data: {
                      "ptt": document.getElementById("ptt").value
                  },
                  beforeSend: function () {
                      document.getElementById("loadingGrnQnd").style.visibility = "visible";
                  },
                  success: function (data) {
                     // alert("a");
                      var res = jQuery.parseJSON(data);
                      dataPu = res.listData.split("|");
                      var itemsPu = "<option selected value='Select'></option>";
                      for (ii = 0; ii < dataPu.length; ii++) {
                          //alert(dataPu[ii]);
                          //$('#ptt').append($('<option>', { value: dataPu[ii], text: dataPu[ii] }));
                          itemsPu += "<option value='" + dataPu[ii] + "'>" + dataPu[ii] + "</option>";
                      }
                      $("#excForQnd").html(itemsPu);
                      document.getElementById("loadingGrnQnd").style.visibility = "hidden";
                      //alert(res.repRes);
                  }
              });
          });

          $('#excForQnd').change(function () {
              // alert("A");
              $.ajax({
                  url: '@Url.Action("updateEquipQND", "Job")',
                  type: "POST",
                  dataType: "html",
                  data: {
                      "exc": document.getElementById("excForQnd").value,
                      "type": document.getElementById("reportType").value
                  },
                  beforeSend: function () {
                      document.getElementById("loadingGrnQnd").style.visibility = "visible";
                  },
                  success: function (data) {
                      // alert("a");
                      var res = jQuery.parseJSON(data);
                      dataPu = res.listData.split("|");
                      var itemsPu = "<option selected value='Select'></option>";
                      for (ii = 0; ii < dataPu.length; ii++) {
                          //alert(dataPu[ii]);
                          //$('#ptt').append($('<option>', { value: dataPu[ii], text: dataPu[ii] }));
                          itemsPu += "<option value='" + dataPu[ii] + "'>" + dataPu[ii] + "</option>";
                      }
                      $("#qndequipmentid").html(itemsPu);
                      document.getElementById("loadingGrnQnd").style.visibility = "hidden";
                      //alert(res.repRes);
                    
                  }
              });
          });
          $('#qndequipmentid').change(function () {
             $('#btnSearchQnd').prop("disabled", false);
              //$("#btnSearchQnd").removeAttr("disabled"); 
              
            });
          $('#btnSearchQnd').click(function () {
              if (document.getElementById("reportType").value == "")
                  alert("Please Select Feature Type");
              else {
                  $.ajax({
                      url: '@Url.Action("GraniteQnd", "Job")',
                      type: "POST",
                      dataType: "html",
                      data: {
                          "reportType": document.getElementById("reportType").value,
                          "ptt": document.getElementById("ptt").value,
                          "exc": document.getElementById("excForQnd").value,
                          "equipcode": document.getElementById("qndequipmentid").value 
                      },
                      beforeSend: function () {
                          document.getElementById("loadingGrnQnd").style.visibility = "visible";
                      },
                      success: function (data) {
                          //alert("a");
                          var res = jQuery.parseJSON(data);
                          //alert(res.repRes);
                          document.getElementById("grnQndFdcTable").style.display = "none";
                          document.getElementById("grnQndMsanTable").style.display = "none";
                          document.getElementById("grnQndOdpTable").style.display = "none";
                          document.getElementById("grnQndOltTable").style.display = "none";
                          document.getElementById("noDataQnd").style.display = "none";
                          document.getElementById("loadingGrnQnd").style.visibility = "hidden";
                          if (res.repRes != "") {
                              var RepRes = res.repRes;

                              if (document.getElementById("reportType").value == "Granite QND FDC") {
                                  document.getElementById("grnQndFdcTable").style.display = "block";
                                  typetab = "grnQndFdcTable1";
                                  getDetailsGrnQnd(RepRes, typetab);
                              }
                              else if (document.getElementById("reportType").value == "Granite QND MSAN") {
                                  document.getElementById("grnQndMsanTable").style.display = "block";
                                  typetab = "grnQndMsanTable1";
                                  getDetailsGrnQnd(RepRes, typetab);
                              }
                              else if (document.getElementById("reportType").value == "Granite QND ODP") {
                                  document.getElementById("grnQndOdpTable").style.display = "block";
                                  typetab = "grnQndOdpTable1";
                                  getDetailsGrnQnd(RepRes, typetab);
                              }
                              else if (document.getElementById("reportType").value == "Granite QND OLT") {
                                  document.getElementById("grnQndOltTable").style.display = "block";
                                  typetab = "grnQndOltTable1";
                                  getDetailsGrnQnd(RepRes, typetab);
                              }
                          }
                          else if (res.repRes == "") {
                              document.getElementById("noDataQnd").style.display = "block";
                          }
                      }
                  });
              }
          });
          // endregion

          $('#btnViewFeatures').click(function () {
              alert("a");
          });

          $('#btnNewJob').click(function () {
              window.location = "NewJob?job=osp";
          });
      });
  });
  
  function choose(val, val2) {
      var cmsg = confirm("Are you sure you want to choose " + val2 + "?");
      if (cmsg != 0){
          $.ajax({
              url: "/Job/ChooseProject",
              type: "POST",
              dataType: "html",
              data: {
                  "targetJob": document.getElementById("targetJob").value,
                  "targetProject": val,
                  "targetWBS": val2
              },
              beforeSend: function () {
              },
              success: function (data) {
                  var res = jQuery.parseJSON(data);
  
                  if (res.result == "ok") {
                      alert("Matched.");
                      document.getElementById("project-details").style.display = "none";
                      document.getElementById("txtJobState").disabled = false;
                      window.location.reload();
                  }
                  else {
                      alert(res.result);
                  }
  
                  document.getElementById("project-details").style.display = "none";
              }
          });
      }
  }
  
  // region Mubin - CR72-2018 - 2 Jan 2018
  function unmatchProject() {
      var umsg = confirm("Are you sure you want to remove project no assigned?");
      if (umsg != 0) {
          $.ajax({
              url: "/Job/UnmatchProject",
              type: "POST",
              dataType: "html",
              data: {
                  "targetJob": document.getElementById("targetJob").value
              },
              beforeSend: function () {
              },
              success: function (data) {
                  var res = jQuery.parseJSON(data);

                  if (res.result == "ok") {
                      alert("Project No. Removed");
                      //document.getElementById("project-details").style.display = "none";
                      document.getElementById("txtJobState").disabled = false;
                      window.location.reload();
                  }
                  else {
                      alert(res.result);
                  }

                  //document.getElementById("project-details").style.display = "none";
              }
          });
      }
  }
  // endRegion
  
  function ShowIt() {
      document.getElementById("divLoading").style.visibility = "visible";
  }

  function HideIt() {
      document.getElementById("divLoading").style.visibility = "hidden";
  }
</script>

<br />
<h3>
  Job Management > OSP List
</h3>
<div id="dialog-confirm" title="Delete this job?" style="visibility:hidden; display:none;">
  <p>
    <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>These items will be permanently deleted and cannot be recovered. Are you sure?
  </p>
</div>
<div style="height:650px">

    <div>
    <table style="width:850px;"  cellspacing="10" cellpadding="10" >
      <!--Marfu'ah 090519 CR-remoteOLT-->
      <tr>
        <td style="width:100px; text-align:right;">Scheme Name :</td>
        <td><input style="width:150px;" type="text" id="searchKey" name="searchKey"  value="@ViewBag.searchKey"/></td>
        <td style="width:100px; text-align:right;">Exchange :</td>
        <td>@Html.DropDownList("jobExc", (IEnumerable<SelectListItem>)ViewBag.excabb, new { style = "width:150px" })</td>
        <td style="width:100px; text-align:right;">Job State :</td>
        <td>@Html.DropDownList("jobState", (IEnumerable<SelectListItem>)ViewBag.jobState, new { style = "width:150px" })</td>
        <!--<td style="width:100px; text-align:right;visibility:hidden">Exchange :</td>-->
        <td style="text-align:right;"><input type="button" value="Search" id="btnSearch" /></td>
      </tr>
      <tr>
        <td style="width:100px; text-align:right;">Project Year :</td>
        <td>@Html.DropDownList("jobYear", (IEnumerable<SelectListItem>)ViewBag.jobyear, new { style = "width:150px" })</td>
        <td style="width:100px; text-align:right;">Scheme Type :</td>
        <td>@Html.DropDownList("jobScheme", (IEnumerable<SelectListItem>)ViewBag.schemeType, new { style = "width:150px" })</td>
        @*<td style="width:100px; text-align:right;">Job Type :</td>
        <td>@Html.DropDownList("jobType", (IEnumerable<SelectListItem>)ViewBag.jobType, new { style = "width:150px" })</td>*@
        @*</tr> 
        <tr>
        <td>Scheme Type :</td>
        <td>@Html.DropDownList("CmbNo", (IEnumerable<SelectListItem>)ViewBag.schemeType, new { style = "width:100px" })</td>*@       
        <td colspan="3" style="text-align:right;"><input type="button" value="&nbsp;Clear&nbsp;" id="btnClear" /></td>
        @*<td style="text-align:right"><input type="button" value="Add New Job" id="btnNewJob" /></td>*@
      </tr>
      <!--Marfu'ah 090519 CR-remoteOLT-->
      @*<tr>
      <input type="hidden" id="viewBOQ" value="@ViewBag.boq" />
      @if (@ViewBag.boq == "true")
      { 
      <td colspan="2" style="width:50px;"><input id="boq" name="boq" type="checkbox" value="true" checked /> SELECT JOB THAT HAVE BOQ</td>
      }
      else
      {
      <td colspan="2" style="width:50px;"><input id="boq" name="boq" type="checkbox" value="true" /> SELECT JOB THAT HAVE BOQ</td>
      }
      </tr>*@
    </table>
  </div>
  <br />
  @if (Model.Count() > 0)
  {
  <table id="rounded-corner" summary="Job List" width="850px">
    <thead>
      <tr>
        @*<th scope="col" style="width:80px">JOB NO</th>*@
        <th scope="col" style="width:150px">
          SCHEME NAME
        </th>
        <th scope="col" style="width:80px">OWNER</th>
        <th scope="col" style="width:100px">
          WBS NO
        </th>
        <th scope="col">
          DESCRIPTION
        </th>
        @*<th scope="col" style="width:80px">
          JOB STATUS
        </th>*@
        <th scope="col" style="width:80px">
          JOB STATE
        </th>
      </tr>
    </thead>
    <tbody>
      @foreach (var res in Model)
      {
                <tr class="odd">
                  <td id="gid">@res.G3E_IDENTIFIER@*</td>
                  <td >@res.Scheme_Name*@</td>
                  <td>@res.G3E_OWNER</td>
                  <td>@res.WBS_NUM</td>
                  <td>@res.G3E_DESCRIPTION</td>
                  @*<td>@res.G3E_STATUS</td>*@
                  <td>
                      @if (res.G3E_STATE == "COMMISSIONED") {
                          if (res.Scheme_Type == "Civil"){
                            @Html.Raw("COMMISSIONED")
                          }else 
                          {
                            @Html.Raw("SUBMITTED")
                          }
                      }
                      else
                      {
                        @res.G3E_STATE
                      }
                  </td>
                </tr>    
      }
    </tbody>
  </table>
  <div>
    Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
    of @Model.PageCount
    &nbsp;
    @if (Model.HasPreviousPage)
    {
        int firstpages = 1;
        int prevpages = Model.PageNumber - 1;
        <a href = "List?searchKey=@ViewBag.searchKey&jobExc=@ViewBag.excabb2&jobScheme=@ViewBag.schemeType2&jobYear=@ViewBag.jobyear2&jobState=@ViewBag.jobState2&page=@firstpages">
          <
          <
        </a>
        @Html.Raw("&nbsp;")
        <a href = "List?searchKey=@ViewBag.searchKey&jobExc=@ViewBag.excabb2&jobScheme=@ViewBag.schemeType2&jobYear=@ViewBag.jobyear2&jobState=@ViewBag.jobState2&page=@prevpages">
          < Prev
        </a>
    }
    else
    {
    }
    &nbsp;
    @if (Model.HasNextPage)
    {
        int pages = Model.PageNumber + 1;
        int lastpages = Model.PageCount;
        <a href = "List?searchKey=@ViewBag.searchKey&jobExc=@ViewBag.excabb2&jobScheme=@ViewBag.schemeType2&jobYear=@ViewBag.jobyear2&jobState=@ViewBag.jobState2&page=@pages">
          Next >
        </a>
        @Html.Raw("&nbsp;")
        <a href = "List?searchKey=@ViewBag.searchKey&jobExc=@ViewBag.excabb2&jobScheme=@ViewBag.schemeType2&jobYear=@ViewBag.jobyear2&jobState=@ViewBag.jobState2&page=@lastpages"> >> </a>
    }
    else
    {
    }<br/><b> Total @Model.TotalItemCount  records</b>
  </div>
  }
  else
  {
      @:<br />
      <span style="font-size:12px;">
        No record found.
      </span> 
  }
  <br />
  <div id="divResultText"></div>
  <br />
<div id="divDetails" title="Job details" style="padding-left:30px; padding-top:30px;">
  <div id="loading">
        <img id="loading-image"  src="@Url.Content("~/Content/images/loadingpls.gif")" alt="Loading..."  />
   </div>
    <span style="font-size:12px">
      Job no #
    </span>
    <span id="txtJobNo" style="font-weight:bold; color:Blue"></span>
    <input type="hidden" id="targetJob" value="" />
    <input type="hidden" id="targetGTECH" value="" />
    @using (Ajax.BeginForm("UpdateData", new AjaxOptions()
    {
        OnBegin = "ShowIt",
        OnComplete = "HideIt",
        OnSuccess = "SaveUpdateCallBack"
    }))
    {
        <div id="list-details" >
          <input type="hidden" id="jobIdVal" name="jobIdVal" />
          <table  style="min-width:750px" >
            <tr >
              <td style="width:100px;"></td>
              <td>
                <input type="hidden" id="txtName" name="txtName" />
              </td>
              <td style=" border-top-color:White; border-bottom-color:White"></td>
              <td style="width:120px;background-color:#e8eef4">Owner</td>
              <td>
                <input type="text" id="txtOwner" name="txtOwner" />
              </td>
              </tr>
            <tr>
              @*<td style="width:120px;background-color:#e8eef4">
                Scheme name
              </td>
              <td>
                <input type="text" id="txtSchemeName" name="txtSchemeName" />
              </td>*@
              <td rowspan="3" style="width:100px; background-color:#e8eef4">Description</td>
              <td rowspan="3">
                <textarea name="txtDescription" id="txtDescription" cols="20" rows="" style="width:200px"></textarea>
              </td>
              <td></td>
              <td style="width:100px;background-color:#e8eef4">
                Job State
              </td>
              <td style="width:180px">
                <select id="txtJobState" name="txtJobState">
                  <option></option>
                  <option></option>
                  <option></option>
                  <option></option>
                </select>
              </td>    
              </tr>
            <tr>
              <td style="display:none; width:120px;background-color:#e8eef4">Scheme name</td>
              <td style="display:none;"> <input type="text" id="txtSchemeName" name="txtSchemeName" /></td>
              <td style=" border-top-color:White; border-bottom-color:White"></td>
              <td style="width:100px;background-color:#e8eef4">
                Project no.
              </td>
              <td>
                <input type="text" readonly="readonly" id="txtProjectNo" name="txtProjectNo" />
              </td>
              </tr>
            <tr>
              <td style=" border-top-color:White; border-bottom-color:White"></td>
              <td style="width:100px;background-color:#e8eef4">Status</td>
              <td>
                <input type="text" readonly="readonly" id="txtStatus" name="txtStatus" />
              </td>
              </tr>
            <tr>
              <td rowspan="7" style="width:100px; background-color:#e8eef4">Description2</td>
              <td rowspan="7">
                <textarea name="txtDescription2" id="txtDescription2" cols="20" rows="" style="width:200px"></textarea>
              </td>         
            </tr>
            <tr>
              <td style=" border-top-color:White; border-bottom-color:White"></td>
              <td style="width:100px;background-color:#e8eef4">
                EXC ABB
              </td>
              <td>
                <input type="text" readonly="readonly" id="txtEXC" name="txtEXC" />
              </td>
            </tr>
            <tr>
              <td style=" border-top-color:White; border-bottom-color:White"></td>  
              <td style="width:100px;background-color:#e8eef4">
                Scheme Type
              </td>
              <td>
                <input type="text" readonly="readonly" id="txtSchemeType" name="txtSchemeType" />
              </td>
            </tr>
            <tr>
              <td style=" border-top-color:White; border-bottom-color:White"></td>  
              <td style="width:100px;background-color:#e8eef4">
                Start Date
              </td>
              <td>
                <input type="text" readonly="readonly" id="txtStartDate"  />
              </td>
            </tr>
            
            <tr>
              <td style=" border-top-color:White; border-bottom-color:White"></td>  
              <td style="width:100px;background-color:#e8eef4">
                End Date
              </td>
              <td>
                <input type="text"  id="txtEndDate"/>
              </td>
            </tr>

            </table>
          <br />
                   <!-- region Mubin - CR74-2018 - 9 Mar 2018 -->
          <!--<span style="text-align:center;">-->
              <div>
            <span>
                <input type="button" value="Manage files" id="btnManageFile" style="height:30px;width:140px"/>
          <span id="divLoading" style="visibility:collapse">
            <img src="@Url.Content("~/Content/images/rel_interstitial_loading.gif")" alt="loading..." />
          </span></span><br /><br />
                <span style="float:right;">
@*            <input type="button" value="link" id="btnLink" style="height:30px;"/>*@
            <input type="button" value="Launch OSP" id="btnLaunch" style="height:30px;"/>
          </span>
                   <input type="button" value="Check Job Granite" id="btnCheckJobGRN" style="height:30px;display:none;width:140px"/><br />
                   <input type="button" value="Check Job NIS" id="btnCheckJobNIS" style="height:30px;display:none;width:140px"/><br />
                   <input type="button" value="Granite QND" id="btnGrnQnd" style="height:30px;width:140px"/> <!-- Mubin CR59/CR60 29082018 -->
                   </div>
              <!--</span>-->
          <!-- endRegion -->
                @*<a href="javascript:void(0);" id="Managefile">open</a>*@
          <br />
          <br />
          @*<div id="ErrorBlock" style="float:left">
            <table id="tblError">
              <tr style="background-color:#b9c9fe">
                <td style="width:250px">
                  Handover Status
                </td>
                <td style="width:50px"></td>
              </tr>
            </table>
          </div>*@
          <div id="FilesBlock">
            @*List of Files*@
            <table id="tblFiles">
              <tr style="background-color:#b9c9fe">
                <td style="width:250px">
                  File name
                </td>
                <td style="width:50px"></td>
              </tr>
            </table>
          </div>
          <br />
          <div style="height:30px; margin-top:10px; margin-left:0%; display:none;">
            <input type="button" value="View Features" id="btnViewFeatures" style="height:30px;" />
            <input type="button" value="Match Project no." id="btnMatch" style="height:30px;" />
            <!-- region Mubin - CR72-2018 - 2 Jan 2018 -->
            <input type="button" value="Remove Project no." id="btnUnmatch" style="height:30px; display:none;" />
            <!-- endRegion -->
            <input type="button" value="Change Ownership" id="btnChangeOwner" style="height:30px;" />
            <input type="button" value="Save Owner" id="btnSaveOwner" style="height:30px; display:none;" />
            <!-- region Mubin - CR69-2018 - 2 Jan 2018
            <input type="button" value="Delete" id="btnDelete" style="height:30px;width:80px; vertical-align:top; display:none;" /> endRegion -->
            <input type="submit" value="Save" id="btnSave" style="height:30px;width:80px; vertical-align:top;" />
            <input type="button" value="Handover" id="btnHandover" style="height:30px;width:80px;" />
            <input type="button" value="" id="btnApproval" style="height:30px;width:80px; display:none;" />
            <input type="button" value="" id="btnSentApproval" style="height:30px;width:80px; display:none;" />
            <input type="button" value="Handover Status" id="btnHandoverStatus" style="height:30px;width:80px;" />
            <input type="button" value="Close" id="btnClose" style="height:30px;width:80px;" />
          </div>
        </div>
    }
    <div id="project-details" style="display:none; min-height:250px; min-width:900px;">
      <input type="text" id="projectNo" style="width:150px;" />
      <input type="button" value="find project no." id="btnFind" style="height:30px;width:180px;" />
      <div id="divLoadingProj" style="visibility:collapse">
            <img src="@Url.Content("~/Content/images/rel_interstitial_loading.gif")" alt="loading..." />
      </div>
      <br />
      <br />
      <span id="NoOfRow" style="font-weight:bold; color:Blue; display:none"></span>
      <table id="projectTable" style=" display:none;">
        <tr style="background-color:#b9c9fe">
          <td>
            Project no.
          </td>
           <td style="width:200px">Project Description</td>
          <td>
            WBS no.
          </td>
          <td style="width:200px">WBS Description</td>
          <td>
            Date Start
          </td>
          <td>
            Date End
          </td>
          <td>Amount</td>
          <td></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td style="background-color:#b9c9fe"></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </table>
      <div id="notFoundDiv" style="display:none">
        Not Found.
      </div>
    </div>
    
    <div id="divGrnQnd" style="display:none; min-height:250px; min-width:500px;"> <!-- Mubin CR59/CR60 28082018 -->
        <div><section class="container">
            <table style="width:auto">
                <tr>
                    <td style="width:125px; text-align:right;">FEATURE TYPE :</td> 
                    <td> @Html.DropDownList("reportType", (IEnumerable<SelectListItem>)ViewBag.FeatureType, new { style = "width:150px" })</td>
                    <td style="width:60px; text-align:right;">PTT :</td> 
                    <td> @Html.DropDownList("ptt", (IEnumerable<SelectListItem>)ViewBag.Ptt, new { style = "width:120px" })</td>
                    <td style="width:90px; text-align:right;">EXC_ABB :</td> 
                    <td> @Html.DropDownList("excForQnd", (IEnumerable<SelectListItem>)ViewBag.ExcForQnd, new { style = "width:120px" })</td>
                    <td style="width:90px; text-align:right;">CODE :</td> 
                    <td> @Html.DropDownList("qndequipmentid", (IEnumerable<SelectListItem>)ViewBag.qndequipmentid, new { style = "width:120px" })</td>
                    <td style="text-align:center;"><input type="button" value="Search" id="btnSearchQnd"    /></td>
                </tr>
            </table>
            </section>
        </div>
        <div id="loadingGrnQnd" style="visibility:collapse">
               <img src="@Url.Content("~/Content/images/rel_interstitial_loading.gif")" alt="loading..." />
        </div>
        <div id="grnQndFdcTable" style="display:none;">
            <h5>Granite QND FDC</h5>
            <table align="center" width="auto" id="grnQndFdcTable1" style="font-size:smaller">
                <thead>
                <tr>
                    <th style="background-color:#b9c9fe">ID</th>
                    <th style="background-color:#b9c9fe">BATCH_ID</th>
                    <th style="background-color:#b9c9fe">NODE_INST</th>
                    <th style="background-color:#b9c9fe">NODE_NAME</th>
                    <th style="background-color:#b9c9fe">PTT_ID</th>
                    <th style="background-color:#b9c9fe">EXC_ABB</th>
                    <th style="background-color:#b9c9fe">FDC_CODE</th>
                    <th style="background-color:#b9c9fe">NODE_TYPE</th>
                    <th style="background-color:#b9c9fe">NODE_VENDOR</th>
                    <th style="background-color:#b9c9fe">NODE_MODEL</th>
                    <th style="background-color:#b9c9fe">NODE_STATUS</th>
                    <th style="background-color:#b9c9fe">SHELF_INST</th>
                    <th style="background-color:#b9c9fe">SHELF_NAME</th>
                    <th style="background-color:#b9c9fe">SHELF_STATUS</th>
                    <th style="background-color:#b9c9fe">SLOT_NUMBER</th>
                    <th style="background-color:#b9c9fe">CARD_INSTID</th>
                    <th style="background-color:#b9c9fe">CARD_TYPE</th>
                    <th style="background-color:#b9c9fe">CARD_STATUS</th>
                    <th style="background-color:#b9c9fe">PORT_INST</th>
                    <th style="background-color:#b9c9fe">PORT_NUMBER</th>
                    <th style="background-color:#b9c9fe">PORT_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PORT_STATUS</th>
                    <th style="background-color:#b9c9fe">PATH_INST</th>
                    <th style="background-color:#b9c9fe">PATH_NAME</th>
                    <th style="background-color:#b9c9fe">PATH_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PATH_STATUS</th>
                    <th style="background-color:#b9c9fe">DATE_CREATED</th>
                </tr>
                </thead>
                <tbody>    
                    <tr>
                    @for (int i = 0; i < 27; i++)
                    {
                        <td style="white-space:nowrap; background-color:#e8eef4"></td>
                    }
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="grnQndMsanTable" style="display:none;">
            <h5>Granite QND MSAN</h5>
            <table align="center" width="auto" id="grnQndMsanTable1" style="font-size:smaller">
                <thead>
                <tr>
                    <th style="background-color:#b9c9fe">ID</th>
                    <th style="background-color:#b9c9fe">BATCH_ID</th>
                    <th style="background-color:#b9c9fe">NODE_INST</th>
                    <th style="background-color:#b9c9fe">NODE_NAME</th>
                    <th style="background-color:#b9c9fe">PTT_ID</th>
                    <th style="background-color:#b9c9fe">EXC_ABB</th>
                    <th style="background-color:#b9c9fe">MSAN_CODE</th>
                    <th style="background-color:#b9c9fe">NODE_TYPE</th>
                    <th style="background-color:#b9c9fe">NODE_VENDOR</th>
                    <th style="background-color:#b9c9fe">NODE_MODEL</th>
                    <th style="background-color:#b9c9fe">NODE_STATUS</th>
                    <th style="background-color:#b9c9fe">SHELF_INST</th>
                    <th style="background-color:#b9c9fe">SHELF_NAME</th>
                    <th style="background-color:#b9c9fe">SHELF_STATUS</th>
                    <th style="background-color:#b9c9fe">SLOT_NUMBER</th>
                    <th style="background-color:#b9c9fe">CARD_INSTID</th>
                    <th style="background-color:#b9c9fe">CARD_TYPE</th>
                    <th style="background-color:#b9c9fe">CARD_STATUS</th>
                    <th style="background-color:#b9c9fe">PORT_INST</th>
                    <th style="background-color:#b9c9fe">PORT_NUMBER</th>
                    <th style="background-color:#b9c9fe">PORT_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PORT_STATUS</th>
                    <th style="background-color:#b9c9fe">PATH_INST</th>
                    <th style="background-color:#b9c9fe">PATH_NAME</th>
                    <th style="background-color:#b9c9fe">PATH_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PATH_STATUS</th>
                    <th style="background-color:#b9c9fe">DATE_CREATED</th>
                </tr>
                </thead>
                <tbody>    
                    <tr>
                    @for (int i = 0; i < 27; i++)
                    {
                        <td style="white-space:nowrap; background-color:#e8eef4"></td>
                    }
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="grnQndOdpTable" style="display:none;">
            <h5>Granite QND ODP</h5>
            <table align="center" width="auto" id="grnQndOdpTable1" style="font-size:smaller">
                <thead>
                <tr>
                    <th style="background-color:#b9c9fe">ID</th>
                    <th style="background-color:#b9c9fe">BATCH_ID</th>
                    <th style="background-color:#b9c9fe">NODE_INST</th>
                    <th style="background-color:#b9c9fe">NODE_NAME</th>
                    <th style="background-color:#b9c9fe">ODP_CODE</th>
                    <th style="background-color:#b9c9fe">PTT_ID</th>
                    <th style="background-color:#b9c9fe">EXC_ABB</th>
                    <th style="background-color:#b9c9fe">FDC_CODE</th>
                    <th style="background-color:#b9c9fe">DP_CODE</th>
                    <th style="background-color:#b9c9fe">NODE_TYPE</th>
                    <th style="background-color:#b9c9fe">NODE_VENDOR</th>
                    <th style="background-color:#b9c9fe">NODE_MODEL</th>
                    <th style="background-color:#b9c9fe">NODE_STATUS</th>
                    <th style="background-color:#b9c9fe">SLOT_NUMBER</th>
                    <th style="background-color:#b9c9fe">CARD_INSTID</th>
                    <th style="background-color:#b9c9fe">CARD_TYPE</th>
                    <th style="background-color:#b9c9fe">CARD_STATUS</th>
                    <th style="background-color:#b9c9fe">PORT_INST</th>
                    <th style="background-color:#b9c9fe">PORT_NUMBER</th>
                    <th style="background-color:#b9c9fe">PORT_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PORT_STATUS</th>
                    <th style="background-color:#b9c9fe">PATH_INST</th>
                    <th style="background-color:#b9c9fe">PATH_NAME</th>
                    <th style="background-color:#b9c9fe">PATH_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PATH_STATUS</th>
                    <th style="background-color:#b9c9fe">DATE_CREATED</th>
                </tr>
                </thead>
                <tbody>    
                    <tr>
                    @for (int i = 0; i < 26; i++)
                    {
                        <td style="white-space:nowrap; background-color:#e8eef4"></td>
                    }
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="grnQndOltTable" style="display:none;">
            <h5>Granite QND OLT</h5>
            <table align="center" width="auto" id="grnQndOltTable1" style="font-size:smaller">
                <thead>
                <tr>
                    <th style="background-color:#b9c9fe">ID</th>
                    <th style="background-color:#b9c9fe">BATCH_ID</th>
                    <th style="background-color:#b9c9fe">NODE_INST</th>
                    <th style="background-color:#b9c9fe">NODE_NAME</th>
                    <th style="background-color:#b9c9fe">PTT_ID</th>
                    <th style="background-color:#b9c9fe">EXC_ABB</th>
                    <th style="background-color:#b9c9fe">OLT_CODE</th>
                    <th style="background-color:#b9c9fe">NODE_TYPE</th>
                    <th style="background-color:#b9c9fe">NODE_VENDOR</th>
                    <th style="background-color:#b9c9fe">NODE_MODEL</th>
                    <th style="background-color:#b9c9fe">NODE_STATUS</th>
                    <th style="background-color:#b9c9fe">SHELF_INST</th>
                    <th style="background-color:#b9c9fe">SHELF_NAME</th>
                    <th style="background-color:#b9c9fe">SHELF_STATUS</th>
                    <th style="background-color:#b9c9fe">SLOT_NUMBER</th>
                    <th style="background-color:#b9c9fe">CARD_INSTID</th>
                    <th style="background-color:#b9c9fe">CARD_TYPE</th>
                    <th style="background-color:#b9c9fe">CARD_STATUS</th>
                    <th style="background-color:#b9c9fe">PORT_INST</th>
                    <th style="background-color:#b9c9fe">PORT_NUMBER</th>
                    <th style="background-color:#b9c9fe">PORT_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PORT_STATUS</th>
                    <th style="background-color:#b9c9fe">PATH_INST</th>
                    <th style="background-color:#b9c9fe">PATH_NAME</th>
                    <th style="background-color:#b9c9fe">PATH_BANDWIDTH</th>
                    <th style="background-color:#b9c9fe">PATH_STATUS</th>
                    <th style="background-color:#b9c9fe">DATE_CREATED</th>
                </tr>
                </thead>
                <tbody>    
                    <tr>
                    @for (int i = 0; i < 27; i++)
                    {
                        <td style="white-space:nowrap; background-color:#e8eef4"></td>
                    }
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="noDataQnd" style ="display:none">
            <h3 align="center" >Not Found.</h3>
        </div>
    </div>
        
    <div id="changeOwner-details" style="display:none; min-height:250px; min-width:500px;">
      <br />
      <br />
      <table  style="background-color:#b9c9fe; width:400px">
        <tr>
          <td colspan="3"></td>
        </tr>
        <tr>
          <td style="width:180px">
            User Role
          </td>
          <td style="width:20px">:</td>
          <td>
            <select id="DropDownList-UserRoles" style="width:180px"></select>
          </td>
        </tr>VirtualUsr.1
        <tr>
          <td colspan="3"></td>
        </tr>
        <tr id="DDL-UL" style="display:none;">
          <td  >
            User List
          </td>
          <td style="width:20px">:</td>
          <td>
            <select id="DropDownList-UserList" style="display:none; width:180px" ></select>
          </td>
        </tr>
      </table>
    </div>
        
    <br />
    <br />

     <div id="divCheckJob" style="display:none; min-height:250px; min-width:500px;">
     <div id="loadingscheckJob" style="visibility:collapse; margin:bottom">
            <img src="@Url.Content("~/Content/images/rel_interstitial_loading.gif")" alt="loading..." />
     </div>

      <br />
      
        <ul id = "uiCheckJob"style="display:none; height:30px" >
        <li><a href="#tabs-1" id = "tabCSite" style="display:none;" >SITE</a></li>
        <li><a href="#tabs-2" id = "tabCEquip" style="display:none;">EQUIPMENT</a></li>
        <li><a href="#tabs-3" id = "tabCSBoundary" style="display:none;">SERVICE BOUNDARY ADDRESS</a></li>
        <li><a href="#tabs-4" id = "tabCPath" style="display:none;">PATH</a></li>
        <li><a href="#tabs-5" id = "tabCPathConsumer" style="display:none;">PATH CONSUMER</a></li>
        <li><a href="#tabs-6" id = "tabCreateNe" style="display:none;">NETWORK ELEMENT</a></li>
        <li><a href="#tabs-7" id = "tabCreateCard" style="display:none;">CARD</a></li>
        <li><a href="#tabs-8" id = "tabCreateFC" style="display:none;">FRAME CONTAINER</a></li>
        </ul>
        <div id="tabs-1">
           <table align="center"  width="auto" id="tabCSite1"  style="display:none;">
               <thead>
               <tr>
                   <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
                   <th style="width:120px; background-color:#b9c9fe">LOADSITE_ID</th>
                   <th style="width:120px; background-color:#b9c9fe">CLASS_NAME</th>
                   <th style="width:120px; background-color:#b9c9fe">SCHEME_NAME</th>
                   <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                   <th style="width:120px; background-color:#b9c9fe">USERID</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEREGION</th>
                   <th style="width:120px; background-color:#b9c9fe">SITESTATE</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEPTT</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEEXC</th>
                   <th style="width:120px; background-color:#b9c9fe">SITENAME</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEDESC</th>
                   <th style="width:120px; background-color:#b9c9fe">SITETYPE</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEFLOOR</th>
                   <th style="width:120px; background-color:#b9c9fe">SITENO</th>
                   <th style="width:120px; background-color:#b9c9fe">SITEBUILDING</th>
                   <th style="width:120px; background-color:#b9c9fe">ADDRESSSTREET</th>
                   <th style="width:120px; background-color:#b9c9fe">ADDRESSCITY</th>
                   <th style="width:120px; background-color:#b9c9fe">ADDRESSSTATE</th>
                   <th style="width:120px; background-color:#b9c9fe">POSTCODE</th>
                   <th style="width:120px; background-color:#b9c9fe">STREETTYPE</th>
                   <th style="width:120px; background-color:#b9c9fe">COUNTY</th>
                   <th style="width:120px; background-color:#b9c9fe">COUNTRY</th>
                   <th style="width:120px; background-color:#b9c9fe">SITECOMMENT</th>
                   <th style="width:120px; background-color:#b9c9fe">EQUIPMENTLOCATION</th>
                   <th style="width:120px; background-color:#b9c9fe">CABLINGTYPE</th>
                   <th style="width:120px; background-color:#b9c9fe">COPPEROWNBYTM</th>
                   <th style="width:120px; background-color:#b9c9fe">FIBERTOPREMISEEXIST</th>
                   <th style="width:120px; background-color:#b9c9fe">TOTALSERVICEBOUNDARY</th>
                   <th style="width:120px; background-color:#b9c9fe">ACCESSRESTRICTION</th>
                   <th style="width:120px; background-color:#b9c9fe">CONTACT</th>
                   <th style="width:120px; background-color:#b9c9fe">COMMENTS</th>
                   <th style="width:120px; background-color:#b9c9fe">GRN_STATUS</th>
                   <!--<th style="width:120px; background-color:#b9c9fe">NAME</th>
                   <th style="width:200px; background-color:#b9c9fe">DESCRIPTION</th>
                   <th style="width:900px;background-color:#b9c9fe">ADDRESS</th>
                   <th style="width:200px;background-color:#b9c9fe">EQUIP LOC</th>
                   <th style="width:200px;background-color:#b9c9fe">CABLE TYPE</th>
                   <th style="width:200px;background-color:#b9c9fe">FIBER TO PREMIST</th>
                   <th style="width:200px;background-color:#b9c9fe">ACCESS RESTRICT</th>
                   <th style="width:200px;background-color:#b9c9fe">CONTACT</th>-->
               </tr>
               </thead>
               <tbody>    
                   <tr>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>
                       <td style="width:900px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>
                       <td style="width:200px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                   </tr>
               </tbody>
           </table>
           <div id="Nodata" style ="display:none">
             <h3 align="center" >Not Found.</h3>
           </div>
        </div>
        <div id="tabs-2">
           <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
           <table align="center"   width="auto" id="tabCEquip1"  style="display:none;">
               <thead>
                   <tr >
                       <th style="width:120px; background-color:#b9c9fe">LOADEQUIP_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">CLASS_NAME</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">SCHEME_NAME</th>
                       <th style="width:120px; background-color:#b9c9fe">USERID</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUIPID</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUIPCAT</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUIPVEND</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUIMODEL</th>
                       <th style="width:120px; background-color:#b9c9fe">REGION</th>
                       <th style="width:120px; background-color:#b9c9fe">STATE</th>
                       <th style="width:120px; background-color:#b9c9fe">EXCDESC</th>
                       <th style="width:120px; background-color:#b9c9fe">SITE</th>
                       <th style="width:120px; background-color:#b9c9fe">MNGTIP</th>
                       <th style="width:120px; background-color:#b9c9fe">TEMPNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">INSERVICE</th>
                       <th style="width:120px; background-color:#b9c9fe">TAGGING</th>
                       <th style="width:120px; background-color:#b9c9fe">OUTDOORINDOORTAGGING</th>
                       <th style="width:120px; background-color:#b9c9fe">DPEXTENSIONFLAG</th>
                       <th style="width:120px; background-color:#b9c9fe">NETWORKNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">GRN_STATUS</th>
                       <!--<th style="width:120px; background-color:#b9c9fe">EQUIPID</th>
                       <th style="width:100px; background-color:#b9c9fe">EQUIPCAT</th>
                       <th style="width:120px;background-color:#b9c9fe">EQUIPVEND</th>-->
                       <!-- endRegion -->
                      @* <th style="width:120px;background-color:#b9c9fe">EQUIPMODEL</th>
                       <th style="width:120px;background-color:#b9c9fe">UDA TAGGING</th>
                       <th style="width:120px;background-color:#b9c9fe">UDA OUTINDOORTAG</th>
                       <th style="width:120px;background-color:#b9c9fe">TIMESTAMP</th>
                       <th style="width:120px;background-color:#b9c9fe">REPLY MSG</th>*@
                   </tr>
               </thead>
               <tbody>    
                   <tr>
                       <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                      @* <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>*@
                   
                   </tr>
               </tbody>
           </table>
        </div>
        <div id="tabs-3">
             <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
             <table align="center"   width="auto" id="tabCSBoundary1"  style="display:none;">
               <thead>
                   <tr>
                       <th style="width:120px; background-color:#b9c9fe">LOADSERVBOUND_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">SCHEME_NAME</th>
                       <th style="width:120px; background-color:#b9c9fe">USERID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">SERVICEBOUNDARYID</th>
                       <th style="width:120px; background-color:#b9c9fe">SITENO</th>
                       <th style="width:120px; background-color:#b9c9fe">SITEFLOOR</th>
                       <th style="width:120px; background-color:#b9c9fe">SITEBUILDING</th>
                       <th style="width:120px; background-color:#b9c9fe">STREETYPE</th>
                       <th style="width:120px; background-color:#b9c9fe">STREETNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">SECTION</th>
                       <th style="width:120px; background-color:#b9c9fe">POSTCODE</th>
                       <th style="width:120px; background-color:#b9c9fe">CITY</th>
                       <th style="width:120px; background-color:#b9c9fe">STATE</th>
                       <th style="width:120px; background-color:#b9c9fe">COUNTRY</th>
                       <th style="width:120px; background-color:#b9c9fe">PREMISETYPE</th>
                       <th style="width:120px; background-color:#b9c9fe">SERVCATEGORY</th>
                       <th style="width:120px; background-color:#b9c9fe">SITESDP</th>
                       <th style="width:120px; background-color:#b9c9fe">SITEDPEXC</th>
                       <th style="width:120px; background-color:#b9c9fe">DDP</th>
                       <th style="width:120px; background-color:#b9c9fe">SMARTDEVELOPER</th>
                       <th style="width:120px; background-color:#b9c9fe">SMARTPROJECTID</th>
                       <th style="width:120px; background-color:#b9c9fe">GRN_STATUS</th>
                       <th style="width:120px; background-color:#b9c9fe">COS</th>
                       <th style="width:120px; background-color:#b9c9fe">DROPCABLEDISTANCE</th>
                       <!--<th style="width:120px; background-color:#b9c9fe">ID</th>
                       <th style="width:260px; background-color:#b9c9fe">ADDRESS</th>
                       <th style="width:140px;background-color:#b9c9fe">PREMIS TYPE</th>
                       <th style="width:120px;background-color:#b9c9fe">SITE SDP</th>
                       <th style="width:100px;background-color:#b9c9fe">DROP FIBER</th>-->
                   </tr>
               </thead>
               <tbody>    
                   <tr>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:260px; background-color:#e8eef4"></td>
                       <td style="width:140px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                   </tr>
               </tbody>
           </table>
        </div>
        <div id="tabs-4">
           <table align="center"   width="auto" id="tabCPath1"  style="display:none;">
            <thead>
                   <tr >
                       <th style="width:120px; background-color:#b9c9fe">PATHNAME</th>
                       <th style="width:100px; background-color:#b9c9fe">ANAME</th>
                       <th style="width:120px;background-color:#b9c9fe">ATYPE</th>
                       <th style="width:120px;background-color:#b9c9fe">ASITE</th>
                       <th style="width:120px;background-color:#b9c9fe">ZNAME</th>
                       <th style="width:120px;background-color:#b9c9fe">ZTYPE</th>
                       <th style="width:120px;background-color:#b9c9fe">PATHTYPE</th>
                   </tr>
               </thead>
               <tbody>    
                   <tr >
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                   
                   </tr>
               </tbody>
           </table>
        </div>
        <div id="tabs-5">
           <table align="center"  width="auto" id="tabCPathConsumer1"  style="display:none;">
               <thead>
                   <tr>
                       <th style="width:120px; background-color:#b9c9fe">ANAME</th>
                       <th style="width:100px; background-color:#b9c9fe">ATYPE</th>
                       <th style="width:120px;background-color:#b9c9fe">ACARD2</th>
                       <th style="width:120px;background-color:#b9c9fe">APORT2</th>
                       <th style="width:120px;background-color:#b9c9fe">ACARD3</th>
                       <th style="width:120px;background-color:#b9c9fe">DP SITE</th>
                       <th style="width:120px;background-color:#b9c9fe">ZNAME</th>
                       <th style="width:120px;background-color:#b9c9fe">ZTYPE</th>
                       <th style="width:120px;background-color:#b9c9fe">ZCARD</th>
                       <th style="width:120px;background-color:#b9c9fe">ZPORT</th>
                       <th style="width:120px;background-color:#b9c9fe">ACARD4</th>
                       <th style="width:120px;background-color:#b9c9fe">APORT4</th>
                   </tr>
               </thead>
               <tbody>    
                   <tr >
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                   </tr>
               </tbody>
           </table>
        </div>
        <div id="tabs-6">
           <table align="center"  width="auto" id="tabCreateNe1"  style="display:none;">
               <thead>
                   <tr>
                       <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
                       <th style="width:120px; background-color:#b9c9fe">CREATENE_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">JOB_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FNO</th>
                       <th style="width:120px; background-color:#b9c9fe">LOCNTTNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUPABB</th>
                       <th style="width:120px; background-color:#b9c9fe">INDEX1</th>
                       <th style="width:120px; background-color:#b9c9fe">EQUPMODEL</th>
                       <th style="width:120px; background-color:#b9c9fe">MANRABB</th>
                       <!--<th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:100px; background-color:#b9c9fe">LOCNTTNAME</th>
                       <th style="width:120px;background-color:#b9c9fe">EQUPABB</th>
                       <th style="width:120px;background-color:#b9c9fe">INDEX1</th>
                       <th style="width:120px;background-color:#b9c9fe">EQUPMODEL</th>
                       <th style="width:120px;background-color:#b9c9fe">MANRABB</th>-->
                   </tr>
               </thead>
               <tbody>    
                   <tr >
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                   </tr>
               </tbody>
           </table>
        </div>
         <div id="tabs-7">
           <table align="center"  width="auto" id="tabCreateCard1"  style="display:none;">
               <thead>
                   <tr>
                       <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
                       <th style="width:120px; background-color:#b9c9fe">CREATECARD_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">MSAN_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">RT_CODE</th>
                       <th style="width:120px; background-color:#b9c9fe">MUX_CODE</th>
                       <th style="width:120px; background-color:#b9c9fe">SCHEME_NAME</th>
                       <th style="width:120px; background-color:#b9c9fe">SLOT</th>
                       <th style="width:120px; background-color:#b9c9fe">CARDNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">CARDMODEL</th>
                       <th style="width:120px; background-color:#b9c9fe">TOTALCOUNT</th>
                       <th style="width:120px; background-color:#b9c9fe">PORTSTARTNO</th>
                       <!--<th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:100px; background-color:#b9c9fe">RT_CODE</th>
                       <th style="width:120px;background-color:#b9c9fe">SLOT</th>
                       <th style="width:120px;background-color:#b9c9fe">CARDNAME</th>
                       <th style="width:120px;background-color:#b9c9fe">CARDMODEL</th>
                       <th style="width:120px;background-color:#b9c9fe">TOTALCOUNT</th>
                       <th style="width:120px;background-color:#b9c9fe">PORTSTARTNO</th>-->
                   </tr>
               </thead>
               <tbody>    
                   <tr >
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                   </tr>
               </tbody>
           </table>
        </div>
         <div id="tabs-8">
           <table align="center"  width="auto" id="tabCreateFC1"  style="display:none;">
               <thead>
                   <tr>
                       <!-- region Mubin - CR74-2018 - 23 Feb 2018 -->
                       <th style="width:120px; background-color:#b9c9fe">CREATEFC_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">JOB_ID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:120px; background-color:#b9c9fe">G3E_FNO</th>
                       <th style="width:120px; background-color:#b9c9fe">FRANNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">INDEX1</th>
                       <th style="width:120px; background-color:#b9c9fe">LOCNTTNAME</th>
                       <th style="width:120px; background-color:#b9c9fe">LOCATION</th>
                       <th style="width:120px; background-color:#b9c9fe">DISTANCE</th>
                       <th style="width:120px; background-color:#b9c9fe">CABINET</th>
                       <!--<th style="width:120px; background-color:#b9c9fe">G3E_FID</th>
                       <th style="width:100px; background-color:#b9c9fe">FRANNAME/DISTANCE</th>
                       <th style="width:120px;background-color:#b9c9fe">INDEX</th>
                       <th style="width:120px;background-color:#b9c9fe">LOCATION</th>
                       <th style="width:120px;background-color:#b9c9fe">LOCNTTNAME</th>-->
                   </tr>
               </thead>
               <tbody>    
                   <tr >
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <!--<td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:100px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>
                       <td style="width:120px; background-color:#e8eef4"></td>-->
                       <!-- endRegion -->
                   </tr>
               </tbody>
           </table>
        </div>
    </div>

 
   <div id="divCheckAssetGEMS" title="Check Asset (GEMS)" style="display:none; min-height:250px; min-width:500px;">  
    <br />
    <div id="loadingcheckAssetGEMS" style="visibility:collapse; margin:bottom">
          <img src="@Url.Content("~/Content/images/rel_interstitial_loading.gif")" alt="loading..." />
    </div>
    <br />
    <div>
        <span style="font-size:12px">
            Asset To GEMS :
        </span>
        <span id="txtJobNoAssetToGEMS" style="font-weight:bold; color:Blue"></span>
        <input type="hidden" id="targetAssetToGEMSJob" value="" />
    </div>
    <br />
    <br />
    <table align="center" id="tabCheckAssetGEMS" width="1000px" style="display:none;">
               <thead>
                 <tr>
                        <th style="width:80px; background-color:#b9c9fe">G3E FNO</th>
                        <th style="width:80px; background-color:#b9c9fe">G3E FID</th>
                        <th style="width:120px; background-color:#b9c9fe">PROJECT NO</th>
                        <th style="width:80px; background-color:#b9c9fe">WBS NUM</th>
                        <th style="width:200px; background-color:#b9c9fe">ADD 1</th>
                        <th style="width:200px; background-color:#b9c9fe">ADD 2</th>
                        <th style="width:240px; background-color:#b9c9fe">ADD 3</th>
                 </tr>
                </thead>    
                <tbody>
                    <tr>
                        <td style="width:80px; background-color:#e8eef4"></td>
                        <td style="width:80px; background-color:#e8eef4"></td>
                        <td style="width:120px; background-color:#e8eef4"></td>
                        <td style="width:80px; background-color:#e8eef4"></td>
                        <td style="width:200px; background-color:#e8eef4"></td>
                        <td style="width:200px; background-color:#e8eef4"></td>
                        <td style="width:210px; background-color:#e8eef4"></td>
                    </tr>
               </tbody>
           </table>
    </div>
  </div>
</div>
    
  